<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Injection Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 2rem;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .section {
            background: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .target-container {
            border: 2px dashed #ccc;
            min-height: 200px;
            background-color: #fafafa;
        }
        .note {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 1rem;
            border-radius: 4px;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Widget Injection Test</h1>
        
        <div class="section">
            <h2>1. Targeted Injection</h2>
            <p>The widget below should appear inline within the targeted container:</p>
            
            <div id="widget-target-1" class="target-container">
                <p style="color: #666; margin-bottom: 1rem;">
                    <strong>Targeted Container #1</strong><br>
                    Widget should appear inline here using relative positioning.
                </p>
            </div>
            
            <!-- Widget with targeted injection -->
            <script 
                src="./dist/widget.js" 
                data-target-element="#widget-target-1"
                data-content-target="article, main, .content"
                data-api-endpoint="/api/chat"
                data-base-url=""
                data-advertiser-name="Targeted Widget 1"
                data-advertiser-logo="https://logo.clearbit.com/example.com"
                async>
            </script>
        </div>

        <div class="section">
            <h2>2. Another Targeted Injection</h2>
            <p>This demonstrates multiple targeted widgets on the same page:</p>
            
            <div id="widget-target-2" class="target-container">
                <p style="color: #666; margin-bottom: 1rem;">
                    <strong>Targeted Container #2</strong><br>
                    A second widget should appear inline here.
                </p>
            </div>
            
            <!-- Second widget with different target -->
            <script 
                src="./dist/widget.js" 
                data-target-element="#widget-target-2"
                data-content-target="article, main, .content"
                data-api-endpoint="/api/chat"
                data-base-url=""
                data-advertiser-name="Targeted Widget 2"
                data-advertiser-logo="https://logo.clearbit.com/different.com"
                async>
            </script>
        </div>

        <div class="section">
            <h2>3. Standard Fixed Positioning</h2>
            <article>
                <h3>Sample Article Content</h3>
                <p>
                    This section demonstrates the standard widget behavior. Without a target element, 
                    the widget should appear as a fixed overlay in the bottom-right corner of the viewport.
                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor 
                    incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud 
                    exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </p>
                <p>
                    Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu 
                    fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in 
                    culpa qui officia deserunt mollit anim id est laborum.
                </p>
            </article>
            
            <!-- Standard widget without target element -->
            <script 
                src="./dist/widget.js" 
                data-content-target="article"
                data-api-endpoint="/api/chat"
                data-base-url=""
                data-advertiser-name="Standard Widget"
                data-advertiser-logo="https://logo.clearbit.com/standard.com"
                async>
            </script>
        </div>

        <div class="note">
            <strong>Expected Behavior:</strong>
            <ul style="margin: 0.5rem 0 0 1rem; padding: 0;">
                <li>Widgets 1 & 2 should appear inline within their respective target containers</li>
                <li>The standard widget should appear as a fixed overlay in the bottom-right corner</li>
                <li>All widgets should have different branding as specified in their configurations</li>
            </ul>
        </div>
    </div>
</body>
</html>