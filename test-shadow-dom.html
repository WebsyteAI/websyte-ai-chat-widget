<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow DOM Test - Websyte Chat Widget</title>
    <style>
        /* Conflicting parent page styles to test isolation */
        body {
            font-family: 'Comic Sans MS', cursive;
            background-color: red !important;
            color: lime !important;
            margin: 0;
            padding: 20px;
        }
        
        /* Try to override widget styles */
        .bg-white {
            background-color: purple !important;
        }
        
        .text-gray-900 {
            color: orange !important;
        }
        
        .rounded-lg {
            border-radius: 0 !important;
        }
        
        .shadow-lg {
            box-shadow: none !important;
        }
        
        /* Global reset that might interfere */
        * {
            box-sizing: content-box !important;
            margin: 10px !important;
            padding: 10px !important;
        }
        
        button {
            background-color: pink !important;
            border: 5px solid black !important;
        }
        
        div {
            border: 2px dashed blue !important;
        }
    </style>
</head>
<body>
    <h1>Shadow DOM Style Isolation Test</h1>
    <p>This page has aggressive CSS that tries to override widget styles.</p>
    <p>If Shadow DOM is working correctly, the widget should maintain its proper styling despite these parent page styles.</p>
    
    <div style="background: yellow; padding: 20px; margin: 20px;">
        <h2>Parent Page Content</h2>
        <button>Parent Page Button (should be pink with black border)</button>
        <div class="bg-white text-gray-900 rounded-lg shadow-lg">
            <p>This div should be affected by parent styles (purple background, orange text, no border radius, no shadow)</p>
        </div>
    </div>
    
    <!-- Widget Script -->
    <script 
        src="/public/widget.js" 
        data-content-target="main, .content, article"
        data-api-endpoint="/api/chat"
        data-base-url=""
        data-position="bottom-center"
        data-theme="default"
        async
    ></script>
</body>
</html>